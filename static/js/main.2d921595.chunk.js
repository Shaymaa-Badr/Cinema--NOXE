(this["webpackJsonpCinmena-Noxe"]=this["webpackJsonpCinmena-Noxe"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),r=a(42),c=a.n(r),i=a(3),o=a(4),l=a(7),j=a(6),b=a(2),m=a(14),u=new(function(){function e(){Object(i.a)(this,e),this.authentication=!1}return Object(o.a)(e,[{key:"logIn",value:function(e){this.authentication=!0,e()}},{key:"logOut",value:function(e){this.authentication=!1,e()}},{key:"isAuthenticated",value:function(){return this.authentication}}]),e}()),h=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(n.jsx)(s.Fragment,{children:Object(n.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark text-capitalize",children:Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("a",{className:"navbar-brand",href:"/",children:"Cinema NOXE"}),Object(n.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(n.jsxs)("ul",{className:"navbar-nav mr-auto mb-2 mb-lg-0",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(m.b,{className:"nav-link",to:"/home",children:"home"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(m.b,{className:"nav-link",to:"/movies",children:"movies"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(m.b,{className:"nav-link",to:"/tv",children:"tv"})})]}),Object(n.jsx)("form",{className:"d-flex ml-auto",children:Object(n.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"})}),u.isAuthenticated()?Object(n.jsx)("ul",{className:"navbar-nav ml-auto mb-2 mb-lg-0",children:Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(m.b,{className:"nav-link",to:"/login",children:"logout"})})}):Object(n.jsxs)("ul",{className:"navbar-nav ml-auto mb-2 mb-lg-0",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(m.b,{className:"nav-link",to:"/",children:"Register"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(m.b,{className:"nav-link",to:"/login",children:"login"})})]})]})]})})})}}]),a}(s.Component),d=a(10),p=a.n(d),O=a(19),v=a(16),g=a(17),x=a.n(g),f=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={movies:[]},e.getTrending=function(){var t=Object(v.a)(p.a.mark((function t(a){var n,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("https://api.themoviedb.org/3/trending/".concat(a,"/day?api_key=f1aca93e54807386df3f6972a5c33b50"));case 2:n=t.sent,s=n.data,e.setState(Object(O.a)({},a,s.results));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getTrending("movies"),this.getTrending("tv")}},{key:"render",value:function(){var e=this.state.movies;return Object(n.jsx)(s.Fragment,{children:Object(n.jsxs)("div",{className:"row py-5 text-capitalize",children:[Object(n.jsxs)("div",{className:"col-lg-4",children:[Object(n.jsx)("div",{className:"brdr w-25 mb-4"}),Object(n.jsxs)("h2",{className:"",children:["trending",Object(n.jsx)("br",{}),"movies ",Object(n.jsx)("br",{})," to watch right now"]}),Object(n.jsx)("p",{className:"secondFontColor py-2",children:"most watched movies by day"}),Object(n.jsx)("div",{className:"brdr w-100 mt-4"})]}),e.slice(0,10).map((function(e){return Object(n.jsx)("div",{className:"col-lg-2",children:Object(n.jsxs)("div",{className:"movie",children:[Object(n.jsx)("img",{className:"w-100",src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:""}),Object(n.jsxs)("h4",{className:"h6 py-3",children:[e.title,e.name]}),Object(n.jsx)("div",{className:"vote p-2 position-absolute",children:e.vote_average})]})},e.id)}))]})})}}]),a}(s.Component),y=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={tv:[]},e.getTrending=function(){var t=Object(v.a)(p.a.mark((function t(a){var n,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("https://api.themoviedb.org/3/trending/".concat(a,"/day?api_key=f1aca93e54807386df3f6972a5c33b50"));case 2:n=t.sent,s=n.data,e.setState(Object(O.a)({},a,s.results));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getTrending("movies"),this.getTrending("tv")}},{key:"render",value:function(){var e=this.state.tv;return Object(n.jsx)(s.Fragment,{children:Object(n.jsxs)("div",{className:"row py-5 text-capitalize",children:[Object(n.jsxs)("div",{className:"col-lg-4",children:[Object(n.jsx)("div",{className:"brdr w-25 mb-4"}),Object(n.jsxs)("h2",{className:"",children:["trending",Object(n.jsx)("br",{}),"tv shows ",Object(n.jsx)("br",{})," to watch right now"]}),Object(n.jsx)("p",{className:"secondFontColor py-2",children:"most watched movies by day"}),Object(n.jsx)("div",{className:"brdr w-100 mt-4"})]}),e.slice(0,10).map((function(e){return Object(n.jsx)("div",{className:"col-lg-2",children:Object(n.jsxs)("div",{className:"movie",children:[Object(n.jsx)("img",{className:"w-100",src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:""}),Object(n.jsxs)("h4",{className:"h6 py-3",children:[e.title,e.name]}),Object(n.jsx)("div",{className:"vote p-2 position-absolute",children:e.vote_average})]})},e.id)}))]})})}}]),a}(s.Component),N=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(f,{}),Object(n.jsx)(y,{})]})}}]),a}(s.Component),w=a(8),k=a(15),F=a.n(k),C=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={first_name:"",last_name:"",age:"",email:"",password:"",error:""},e.getInputsValues=function(t){var a=Object(w.a)({},e.state);a[t.target.name]=t.target.value,e.setState(a)},e.validateRegistrationForm=function(){var t=F.a.object({first_name:F.a.string().min(3).max(10).required(),last_name:F.a.string().min(3).max(10).required(),email:F.a.string().email({tlds:{allow:["com","net"]}}),age:F.a.number().integer().min(18).max(80),password:F.a.string().pattern(new RegExp("^[a-zA-Z0-9]{3,30}$"))}),a=Object(w.a)({},e.state);return delete a.error,t.validate(a,{abortEarly:!1})},e.sendRegisteredData=Object(v.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return delete Object(w.a)({},e.state).error,t.next=4,x.a.post("https://route-egypt-api.herokuapp.com/signup",e.state);case 4:a=t.sent,"success"===a.data.message&&e.props.history.replace("/login");case 7:case"end":return t.stop()}}),t)}))),e.submitForm=function(t){t.preventDefault();var a=e.validateRegistrationForm();if(a.error){var n=Object(w.a)({},e.state);n.error=a.error,e.setState(n)}else e.sendRegisteredData()},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)("h1",{className:"text-capitalize  py-5",children:"register"}),this.state.error&&Object(n.jsx)("div",{className:"alert alert-danger",children:this.state.error.message}),Object(n.jsxs)("form",{className:"text-capitalize",action:"",onSubmit:this.submitForm,children:[Object(n.jsx)("label",{htmlFor:"",children:"first name :"}),Object(n.jsx)("input",{onChange:this.getInputsValues,type:"text",className:"form-control",name:"first_name",value:this.state.first_name}),Object(n.jsx)("label",{htmlFor:"",children:"last name :"}),Object(n.jsx)("input",{onChange:this.getInputsValues,type:"text",className:"form-control",name:"last_name",value:this.state.last_name}),Object(n.jsx)("label",{htmlFor:"",children:"email :"}),Object(n.jsx)("input",{onChange:this.getInputsValues,type:"text",className:"form-control",name:"email",value:this.state.email}),Object(n.jsx)("label",{htmlFor:"",children:"age :"}),Object(n.jsx)("input",{onChange:this.getInputsValues,type:"number",className:"form-control",name:"age",value:this.state.age}),Object(n.jsx)("label",{htmlFor:"",children:"password :"}),Object(n.jsx)("input",{onChange:this.getInputsValues,type:"password",className:"form-control",name:"password",value:this.state.password}),Object(n.jsx)("button",{type:"submit",className:"btn btn-info py-2 px-3 mt-3",children:"submit"})]})]})}}]),a}(s.Component),_=a(44),S=new(a.n(_).a)({encodingType:"aes"}),I=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={email:"",password:"",error:""},e.getInputsValues=function(t){var a=Object(w.a)({},e.state);a[t.target.name]=t.target.value,e.setState(a)},e.validateLoginForm=function(){var t=F.a.object({email:F.a.string().email({tlds:{allow:["com","net"]}}),password:F.a.string().pattern(new RegExp("^[a-zA-Z0-9]{3,30}$"))}),a=Object(w.a)({},e.state);return delete a.error,t.validate(a,{abortEarly:!1})},e.sendLoginData=Object(v.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return delete Object(w.a)({},e.state).error,t.next=4,x.a.post("https://route-egypt-api.herokuapp.com/signin",e.state);case 4:a=t.sent,"success"===(n=a.data).message?(S.set("currentUser",n.token),u.logIn((function(){e.props.history.replace("/home")}))):u.logOut((function(){e.props.history.replace("/login")}));case 7:case"end":return t.stop()}}),t)}))),e.submitForm=function(t){t.preventDefault();var a=e.validateLoginForm();if(a.error){var n=Object(w.a)({},e.state);n.error=a.error,e.setState(n)}else e.sendLoginData()},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)("h1",{className:"text-capitalize  py-5",children:"login"}),this.state.error&&Object(n.jsx)("div",{className:"alert alert-danger",children:this.state.error.message}),Object(n.jsxs)("form",{className:"text-capitalize",action:"",onSubmit:this.submitForm,children:[Object(n.jsx)("label",{htmlFor:"",children:"email :"}),Object(n.jsx)("input",{onChange:this.getInputsValues,type:"text",className:"form-control mb-4",name:"email",value:this.state.email}),Object(n.jsx)("label",{htmlFor:"",children:"password :"}),Object(n.jsx)("input",{onChange:this.getInputsValues,type:"password",className:"form-control",name:"password",value:this.state.password}),Object(n.jsx)("button",{type:"submit",className:"btn btn-info py-2 px-3 mt-3",children:"submit"})]})]})}}]),a}(s.Component),A=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(n.jsx)(s.Fragment,{children:Object(n.jsx)("footer",{className:"bg-dark text-center py-3 mt-5",children:"Copyright 2021"})})}}]),a}(s.Component),z=a(45),V=a.n(z),D=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(n.jsx)(s.Fragment,{children:Object(n.jsx)("section",{className:"notFound vh-100 d-flex align-items-center justify-content-center",children:Object(n.jsx)("h2",{className:"text-center ".concat(V.a.bigFont),children:"404 page"})})})}}]),a}(s.Component),T=a(46),R=function(e){var t=e.component,a=Object(T.a)(e,["component"]);return Object(n.jsx)(b.b,Object(w.a)(Object(w.a)({},a),{},{render:function(e){return u.isAuthenticated()?Object(n.jsx)(t,Object(w.a)({},e)):Object(n.jsx)(b.a,{to:{pathname:"/",state:{from:e.location}}})}}))},E=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(h,{}),Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)(b.d,{children:[Object(n.jsx)(R,{path:"/movies",component:f}),Object(n.jsx)(R,{path:"/tv",component:y}),Object(n.jsx)(R,{path:"/home",component:N}),Object(n.jsx)(b.b,{path:"/register",component:C}),Object(n.jsx)(b.b,{path:"/login",component:I}),Object(n.jsx)(b.b,{path:"/notfound",component:D}),Object(n.jsx)(b.a,{from:"/",exact:!0,to:"/register"}),Object(n.jsx)(b.a,{to:"/notfound"})]})}),Object(n.jsx)(A,{})]})}}]),a}(s.Component);a(94),a(95),a(96),a(99),a(100);c.a.render(Object(n.jsx)(m.a,{children:Object(n.jsx)(E,{})}),document.getElementById("root"))},45:function(e,t,a){e.exports={bigFont:"notfound_bigFont__31MZW"}}},[[101,1,2]]]);
//# sourceMappingURL=main.2d921595.chunk.js.map